<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<canvas id="canvas" width="800" height="600" style="border: 1px solid red;"></canvas>
	</body>
</html>

<script type="text/javascript">
	
	var canvas = document.querySelector('canvas');
	
	function Chain(opt) {
		for(var key in opt) {
			this[key] = opt[key];
		}
		
		this.ctx = this.canvas.getContext('2d');
		this.init();
	}
	
	Chain.prototype = {
		//构造器
		constructor: Chain,
		
		init:function() {
//			this.Bigcircle();
//			this.Smallcircle();
			this.move();
		},
		
		//画大圆

		Bigcircle:function (){
			var ctx = this.ctx;
			
//			ctx.beginPath();
			ctx.arc(this.bigX,this.bigY,this.bigRadius,0,2*Math.PI);
			ctx.stroke();
		},
		
		Smallcircle:function(){
			var radian = Math.PI * 2 / this.sum ;
			var ctx = this.ctx;
			
			for( i = 0; i < this.sum; i++) {
			var smallX = this.bigX + this.bigRadius * Math.cos(this.startRadian +radian * i);
			var smallY = this.bigY + this.bigRadius * Math.sin(this.startRadian +radian * i);
				
				ctx.beginPath();
				ctx.arc(smallX,smallY,this.smallRadius,0,2*Math.PI);
				ctx.fill();
				
			}
		},
		
		move:function () {
			var self = this;
			var ctx = this.ctx;
			 var time = setInterval(function(){
			 	ctx.clearRect(0,0,self.canvas.width,self.canvas.height);
			 	ctx.beginPath();
			 	self.startRadian += 0.001*Math.PI;
			 	self.Bigcircle();
			 	self.Smallcircle();
			 },10);
		}
		
		
	}
	
	
	
	var chain = new Chain({
		canvas:canvas,
		bigX:300,
		bigY:300,
		bigRadius:150,
		sum:10,
		smallRadius:20,
		startRadian: Math.PI / 2,
		
		
	});
	
</script>