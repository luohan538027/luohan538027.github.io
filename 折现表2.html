<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
  <canvas id="canvas" width="800" height="600" style='border: 1px solid red;'></canvas>
</body>
</html>

<script type="text/javascript">
 
 function Drawtable (options) {
   this.canvas = document.querySelector(options.canvasId);
   this.xlength = options.xlength;
   this.ylength = options.ylength;
   this.zeroX = options.zeroX;
   this.zeroY = options.zeroY;
   this.arrowBottom = options.arrowBottom;
   this.arrowHeight = options.arrowHeight;
   this.data = options.data;
 }

   Drawtable.prototype = {
     draw:function() {
       //创建canvas入口
       var ctx = this.canvas.getContext('2d');
       var _this = this;
       //第一步绘制坐标轴

       //x轴顶点坐标
       var xtopX = this.zeroX + this.xlength;
       var xtopY = this.zeroY;

       //y轴顶点坐标
       var ytopX = this.zeroX;
       var ytopY = this.zeroY - this.ylength;

       ctx.moveTo(ytopX,ytopY);
       ctx.lineTo(this.zeroX,this.zeroY);
       ctx.lineTo(xtopX,xtopY);
       ctx.stroke();

       //绘制箭头 y轴箭头
       ctx.beginPath();
       ctx.moveTo(ytopX - this.arrowBottom / 2, ytopY + this.arrowHeight);
       ctx.lineTo(ytopX , ytopY);
       ctx.lineTo(ytopX + this.arrowBottom / 2, ytopY + this.arrowHeight);
       ctx.stroke();

       //x轴箭头
       ctx.beginPath();
       ctx.moveTo(xtopX - this.arrowHeight, xtopY - this.arrowBottom / 2);
       ctx.lineTo(xtopX , xtopY);
       ctx.lineTo(xtopX - this.arrowHeight, xtopY + this.arrowBottom / 2);
       ctx.stroke();

       //绘制数据方格,并用新数组接受计算后的符合坐标轴规则的坐标值
       var data2 = this.data.map(function (v) {
         //计算出每一个数据点的坐标
         var canvasX = v.x + _this.zeroX;
         var canvasY = _this.zeroY - v.y;

         //然后根据每一个数据点绘制小方格
         ctx.beginPath();
         ctx.strokeRect(canvasX - 3, canvasY - 3, 6, 6);
         return {x:canvasX,y:canvasY};
       });

       //根据计算后的坐标值，将数据进行连线
       data2.forEach(function (v,i) {
         ctx[i==0?'moveTo':'lineTo'](v.x, v.y);
       })
       ctx.stroke();
     }
   }

  var draw = new Drawtable({
    canvasId:'#canvas',
    xlength: 500,
    ylength:400,
    zeroX: 50,
    zeroY: 500,
    arrowBottom: 20,
    arrowHeight: 20,
    data:[
      {x:50,y:50},
      {x:100,y:100},
      {x:150,y:300},
      {x:200,y:50},
      {x:250,y:450},
      {x:300,y:100}
    ]
  });
  draw.draw();
  

</script>