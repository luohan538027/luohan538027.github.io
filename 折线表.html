<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
 <canvas id="canvas" width="800" height="600" style='border:1px solid red'></canvas>
</body>
</html>

<script>

    //获取canvas对象
    var canvas = document.querySelector('#canvas');
    //创建画布入口
    var ctx = canvas.getContext('2d');


    //用户提供的数据（根据用户看到的坐标轴原点为参考点）
    var data=[
        {x:50,y:50},
        {x:100,y:100},
        {x:150,y:300},
        {x:200,y:50},
        {x:250,y:450}
    ];

    (function () {
        //先声明好需要用到的变量，坐标轴长度,原点
       var xLength = 400, yLength = 450;
        var zeroX = 50, zeroY = 500;

        //设置箭头的三围
        var arrowBottom = 20, arrowHeight = 20;

        //设置y轴顶点，x轴顶点，
        var ytopY = zeroY - yLength ;
        var ytopX = zeroX  ;

        var xtopY = zeroY ;
        var xtopX = zeroX + xLength ;

        //绘制坐标轴
        ctx.moveTo(ytopX,ytopY);
        ctx.lineTo(zeroX,zeroY);
        ctx.lineTo(xtopX,xtopY);
        ctx.stroke();

        //绘制两个箭头 第一个为Y轴
        ctx.beginPath();
        ctx.moveTo(ytopX - arrowBottom / 2, ytopY + arrowHeight);
        ctx.lineTo(ytopX,ytopY);
        ctx.lineTo(ytopX + arrowBottom / 2, ytopY + arrowHeight);
        ctx.stroke();

        //绘制x轴箭头
        ctx.beginPath();
        ctx.moveTo(xtopX - arrowHeight , xtopY - arrowBottom / 2);
        ctx.lineTo(xtopX,xtopY);
        ctx.lineTo(xtopX - arrowHeight , xtopY + arrowBottom / 2);
        ctx.stroke();

        //得到每一个数据点的位子
        var data2 = data.map(function (v) {
            var canvasX = zeroX + v.x;
            var canvasY = zeroY - v.y;

            //绘制每个点的6px的正方形;
            ctx.beginPath();
            ctx.strokeRect(canvasX - 3,canvasY - 3, 6 , 6) ;

            return {x:canvasX,y:canvasY};
        });

//        console.log(data2);


        //链接折线到每一个数据点
        data2.forEach(function (v,i) {
            if(i == 0) {
                ctx.moveTo(zeroX,zeroY);
           }
            ctx.lineTo(v.x, v.y)
        });
        ctx.stroke();


    })()
</script>